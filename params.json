{"name":"Djanoa","tagline":"Client Ruby pour la plateforme Djanoa (http://www.djanoa.com/)","body":"Djanoa\r\n======\r\n\r\nClient Ruby pour la plateforme [Djanoa](http://www.djanoa.com).\r\n\r\nInstallation\r\n------------\r\n```bash\r\ngem install djanoa\r\n```\r\n\r\nUtilisation\r\n-----------\r\n\r\nIl faut d'abord créer un compte sur [le site de djanoa](http://www.djanoa.com).\r\n\r\nEnsuite vous faites les configurations\r\n```ruby\r\nrequire 'djanoa'\r\n\r\nDjanoa.configure do |config|\r\n  config.from             = VOTRE_NUMERO_COURT\r\n  config.account_code     = CODE_DE_VOTRE_COMPTE\r\n  config.application_pass = MOT_DE_PASSE\r\nend\r\n```\r\n\r\nensuite pour envoyer un SMS il suffit de faire :\r\n\r\n```ruby\r\nDjanoa.send_sms '221777777777', 'juste pour tester mon gem'\r\n```\r\n\r\nGestion des erreurs\r\n-------------------\r\n\r\nSi vous voulez allez plus loin vous pouvez récupérer la réponse et voir s'il n'y a pas d'erreur.\r\n\r\nLe code suivant permet d'envoyer un SMS et, s'il y'a une erreur, affiche le code de l'erreur, le message d'erreur ainsi que l'adresse IP de l'envoyeur.\r\n```ruby\r\nr = Djanoa.send_sms '221777777777', 'juste pour tester mon gem'\r\n\r\nif r.sent?\r\n  puts \"le sms est envoyé\"\r\nelse\r\n  puts r.error.code\r\n  puts r.error.message\r\n  puts r.error.ip\r\nend\r\n```\r\n\r\nUtilisation avec Rails\r\n----------------------\r\n\r\nDepuis la version 1.0.1, vous pouvez utiliser la gem sur votre application Ruby On Rails pour la reception des SMS.\r\n\r\n### installation\r\n\r\nIl faut ajouter la ligne suivante sur votre fichier Gemfile\r\n```ruby\r\ngem 'djanoa'\r\n```\r\nEnsuite vous faites un `bundle install`. Après ca vous lancez le générateur\r\n```bash\r\nrails generate djanoa:install\r\n\r\n# résultat :\r\n      create  db/migrate/20130330192041_djanoa_migration.rb\r\n      create  app/models/djanoa_message.rb\r\n      create  app/controllers/djanoa_messages_controller.rb\r\n      create  config/initializers/djanoa.rb\r\n       route  get '/new_sms' => 'djanoa_messages#new_sms', defaults: {format: 'xml'}\r\n```\r\nAprès ca il faut éditer le fichier d'initialisation djanoa.rb et mettre les informations de votre compte djanoa.\r\nSur votre compte djanoa vous pouver ajouter l'URL http://votre_domaine/new_sms avec la méthode GET.\r\n\r\nMaintenant à chaque fois qu'il recoit un SMS il l'enregistre dans la table djanoa_messages\r\n\r\n### autres méthodes\r\n\r\n```ruby\r\n# récupération du dernier sms recu\r\nsms = DjanoaMessage.last\r\n\r\n# récupérer la liste des mots du texte du sms dans un tableau\r\nsms.words\r\n\r\n# vérifier si y'a un deuxième mot dans le text du sms\r\nsms.word_2_exists?\r\n\r\n# récupération du troisième mot du message\r\nsms.word_3\r\n```\r\n\r\nCopyright\r\n---------\r\nCopyright 2013 Cheikh Sidya CAMARA. Voir la [LICENSE](https://github.com/scicasoft/djanoa/blob/master/LICENSE.md) pour plus de détails.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}